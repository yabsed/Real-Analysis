# 6.5 The Riemann-Stieltjes Integral

## 1. Motivation & Concept
The Riemann-Stieltjes integral unifies discrete and continuous summation into a single formula.

* **Physical Example (Moment of Inertia $I$):**
    * *Discrete:* For point masses $m_i$ at $r_i$: $I = \sum r_i^2 m_i$.
    * *Continuous:* For a wire with density $\rho(x)$: $I = \int x^2 \rho(x) dx$.
    * *Unified:* Using a mass distribution function $m(x)$, both can be written as:
        $$I = \int_{0}^{l} x^2 dm(x)$$

## 2. Definition of the Integral
Let $\alpha$ be a **monotone increasing** function on $[a, b]$ and $f$ be a bounded real-valued function.

### Partition and Sums
For a partition $\mathcal{P} = \{x_0, \dots, x_n\}$ of $[a, b]$:
* Define **$\Delta \alpha_i$** instead of $\Delta x_i$:
    $$\Delta \alpha_i = \alpha(x_i) - \alpha(x_{i-1}) \ge 0$$
* **Upper Sum:** $\mathcal{U}(\mathcal{P}, f, \alpha) = \sum_{i=1}^n M_i \Delta \alpha_i$, where $M_i = \sup \{f(x) : x \in [x_{i-1}, x_i]\}$.
* **Lower Sum:** $\mathcal{L}(\mathcal{P}, f, \alpha) = \sum_{i=1}^n m_i \Delta \alpha_i$, where $m_i = \inf \{f(x) : x \in [x_{i-1}, x_i]\}$.

### Integrability
$f$ is Riemann-Stieltjes integrable with respect to $\alpha$, denoted $f \in \mathcal{R}(\alpha)$, if the upper and lower integrals meet:
$$\underline{\int_a^b} f d\alpha = \sup_{\mathcal{P}} \mathcal{L}(\mathcal{P}, f, \alpha) = \inf_{\mathcal{P}} \mathcal{U}(\mathcal{P}, f, \alpha) = \overline{\int_a^b} f d\alpha$$
The common value is denoted $\int_a^b f d\alpha$.

> **Note:** If $\alpha(x) = x$, this reduces to the standard Riemann integral.

---

## 3. Key Examples (Existence & Non-Existence)

### A. The Unit Jump Function (Discrete behavior)
Let $I_c(x)$ be the unit jump at $c$ ($a < c \le b$):
$$I_c(x) = \begin{cases} 0 & x < c \\ 1 & x \ge c \end{cases}$$
* **Result:** If $f$ is continuous at $c$, then:
    $$\int_a^b f dI_c = f(c)$$
* **Proof Idea:** For any partition where $c \in (x_{k-1}, x_k]$, only the $k$-th term has $\Delta \alpha_k \ne 0$ (specifically $\Delta \alpha_k = 1$). Thus sums collapse to $M_k$ and $m_k$. Since $f$ is continuous, as $\Delta x \to 0$, $M_k, m_k \to f(c)$.

### B. The Dirichlet Function
Let $f(x) = 1$ if $x \in \mathbb{Q}$, and $0$ if $x \notin \mathbb{Q}$.
* **Result:** Not integrable for any non-constant $\alpha$.
* **Reason:** In every interval, density of rationals/irrationals implies $M_i = 1$ and $m_i = 0$. Thus $\mathcal{U} = \alpha(b)-\alpha(a)$ and $\mathcal{L} = 0$.

---

## 4. Conditions for Integrability

### Theorem: Cauchy Criterion
$f \in \mathcal{R}(\alpha)$ if and only if for every $\epsilon > 0$, there exists a partition $\mathcal{P}$ such that:
$$\mathcal{U}(\mathcal{P}, f, \alpha) - \mathcal{L}(\mathcal{P}, f, \alpha) < \epsilon$$

### Theorem: Sufficient Classes for Integrability
1.  **Continuous $f$:** If $f$ is continuous on $[a, b]$, then $f \in \mathcal{R}(\alpha)$.
2.  **Monotone $f$ / Continuous $\alpha$:** If $f$ is monotone and $\alpha$ is **continuous**, then $f \in \mathcal{R}(\alpha)$.
    * *Proof Idea:* Since $\alpha$ is continuous, use the Intermediate Value Theorem to choose a partition where $\Delta \alpha_i = \frac{\alpha(b)-\alpha(a)}{n}$. The telescoping sum of $f$ then bounds the difference $U-L$.

---

## 5. Properties of the Integral
If $f, g \in \mathcal{R}(\alpha)$ and $c \in \mathbb{R}$:

1.  **Linearity:** $\int (f+g)d\alpha = \int f d\alpha + \int g d\alpha$ and $\int cf d\alpha = c \int f d\alpha$.
2.  **Additivity of $\alpha$:** $\int f d(\alpha_1 + \alpha_2) = \int f d\alpha_1 + \int f d\alpha_2$.
3.  **Domain Splitting:** $\int_a^b = \int_a^c + \int_c^b$.
4.  **Comparison:** If $f(x) \le g(x)$, then $\int f d\alpha \le \int g d\alpha$.
5.  **Boundedness:**
    $$\left| \int_a^b f d\alpha \right| \le \int_a^b |f| d\alpha \le M[\alpha(b)-\alpha(a)]$$
    (where $|f(x)| \le M$).

---

## 6. Fundamental Theorems

### Mean Value Theorem for Integrals
If $f$ is continuous and $\alpha$ is monotone increasing, there exists $c \in [a, b]$ such that:
$$\int_a^b f d\alpha = f(c)[\alpha(b) - \alpha(a)]$$
* *Proof Idea:* Use the Intermediate Value Theorem on the range of values bounded by $\inf f$ and $\sup f$.

### Integration by Parts
If $\alpha$ and $\beta$ are monotone increasing, then $\alpha \in \mathcal{R}(\beta) \iff \beta \in \mathcal{R}(\alpha)$.
**Formula:**
$$\int_a^b \alpha d\beta = \alpha(b)\beta(b) - \alpha(a)\beta(a) - \int_a^b \beta d\alpha$$
* *Proof Idea:* Relies on the summation identity for partitions:
    $\mathcal{U}(\mathcal{P}, \alpha, \beta) - \mathcal{L}(\mathcal{P}, \alpha, \beta) = \mathcal{U}(\mathcal{P}, \beta, \alpha) - \mathcal{L}(\mathcal{P}, \beta, \alpha)$.
    If the difference for one integral approaches 0, it must for the other.

---

## 7. Evaluating the Integral (Computational Theorems)

The Riemann-Stieltjes integral usually reduces to one of two forms for calculation:

### Case A: $\alpha$ is a Step Function (Summation)
If $\alpha(x) = \sum_{n=1}^{\infty} c_n I(x-s_n)$ where $\sum c_n$ converges and $f$ is continuous:
$$\int_a^b f d\alpha = \sum_{n=1}^{\infty} c_n f(s_n)$$
* *Proof Idea:* Use the Unit Jump Example result and linearity. The infinite series case is handled by bounding the tail of the series.
* **Example:** $\int_0^2 e^x d[x]$ where $[x]$ is the floor function.
    * $[x]$ jumps at $x=1$ and $x=2$ within (0, 2].
    * Result: $e^1 + e^2$.

### Case B: $\alpha$ is Differentiable (Reduction to Riemann)
If $\alpha$ is differentiable and $\alpha' \in \mathcal{R}[a, b]$ (Riemann integrable), then:
$$\int_a^b f d\alpha = \int_a^b f(x)\alpha'(x) dx$$
* *Proof Idea:* By MVT, $\Delta \alpha_i = \alpha'(t_i)\Delta x_i$. The Riemann-Stieltjes sum $\sum f(s_i)\Delta \alpha_i$ approximates the Riemann sum $\sum f(s_i)\alpha'(t_i)\Delta x_i$.
* **Example:** $\int_0^1 \sin(\pi x) d(x^2) = \int_0^1 \sin(\pi x) \cdot (2x) dx$.

---

## 8. Riemann-Stieltjes Sums and Limits
A Riemann-Stieltjes sum is defined as $\mathcal{S}(\mathcal{P}, f, \alpha) = \sum f(t_i)\Delta \alpha_i$ where $t_i$ are arbitrary tags in the intervals.

* **Warning:** Unlike the standard Riemann integral, the existence of the integral $\int f d\alpha$ does **not** guarantee that $\lim_{||\mathcal{P}||\to 0} S(\mathcal{P}, f, \alpha)$ exists.
* **Counter-Example:**
    * $f(x) = 1$ for $x > 1$, $0$ else.
    * $\alpha(x) = 1$ for $x \ge 1$, $0$ else.
    * Integral exists (value 0 via continuity properties).
    * Sum limit does not exist: Depending on whether the tag $t_k$ is chosen at 1 or slightly right of 1, the sum oscillates between 0 and 1.
* **Convergence Condition:** However, if $f$ continuous and $\alpha$ monotone, the limit of sums *does* equal the integral.