# **Section 4.2: Continuous Functions**

### **1. Definition of Continuity**

  * **Metric Space Definition:** Let $(X, d)$ be a metric space and $E \subset X$. A function $f: E \to \mathbb{R}$ is continuous at $p \in E$ if $\forall \epsilon > 0, \exists \delta > 0$ such that:
    $$|f(x) - f(p)| < \epsilon \quad \text{for all } x \in E \text{ with } d(x, p) < \delta$$
  * **Topological Phrasing:** $f$ is continuous at $p$ if and only if $f$ maps the $\delta$-neighborhood of $p$ into the $\epsilon$-neighborhood of $f(p)$:
    $$x \in N_\delta(p) \cap E \implies f(x) \in N_\epsilon(f(p))$$
  * **Sequential Criterion:** $f$ is continuous at $p$ if and only if for every sequence $\{p_n\}$ in $E$ with $p_n \to p$, we have $\lim_{n \to \infty} f(p_n) = f(p)$.
  * **Isolated Points:** If $p$ is an isolated point of $E$, every function $f$ is continuous at $p$ because there exists a $\delta$ such that $N_\delta(p) \cap E = \{p\}$.

-----

### **2. Specific Examples of Continuity (4.2.2)**

  * **(a) Removable Discontinuity:**
    $$g(x) = \frac{x^2-4}{x-2}, \quad x \neq 2; \quad g(2)=2$$

      * $\lim_{x \to 2} g(x) = 4 \neq g(2)$. Thus, discontinuous at $x=2$.
      * *Correction:* Redefining $g(2)=4$ makes it continuous.

  * **(b) Rational Indicator:**
    $$f(x) = \begin{cases} 0, & x \in \mathbb{Q} \\ x, & x \notin \mathbb{Q} \end{cases}$$

      * Continuous at $p=0$ since $\lim_{x \to 0} f(x) = 0 = f(0)$.
      * Discontinuous at every $p \neq 0$.

  * **(c) Dirichlet Function:**
    $$f(x) = \begin{cases} 1, & x \in \mathbb{Q} \\ 0, & x \notin \mathbb{Q} \end{cases}$$

      * Discontinuous at every $p \in \mathbb{R}$ because rationals and irrationals are dense in $\mathbb{R}$.

  * **(d) Reciprocal:** $f(x) = 1/x$ is continuous on $(0, 1)$.

  * **(e) Oscillating Function:**
    $$f(x) = \begin{cases} x \sin(1/x), & x \neq 0 \\ 0, & x = 0 \end{cases}$$

      * Continuous at $x=0$ because $|x \sin(1/x)| \le |x|$, so the limit is 0.

  * **(f) Sine Function:** $f(x) = \sin x$ is continuous on $\mathbb{R}$.

      * *Proof:* Using $|\sin y - \sin x| = 2|\cos \frac{y+x}{2} \sin \frac{y-x}{2}| \le |y-x|$, we can choose $\delta = \epsilon$.

  * **(g) Thomaeâ€™s Function (Popcorn Function):**
    $$f(x) = \begin{cases} 1/n, & x = m/n \in \mathbb{Q} \cap (0,1) \text{ (lowest terms)} \\ 0, & x \notin \mathbb{Q} \end{cases}$$

      * **Discontinuous** at every rational $p$ (since $f(p) \neq 0$).
      * **Continuous** at every irrational $p$ (limit is 0).
      * *Proof Sketch:* For $\epsilon > 0$, only finitely many rationals have a denominator $n$ such that $1/n \ge \epsilon$. We can choose $\delta$ to exclude these specific rationals from the neighborhood of irrational $p$.

-----

### **3. Algebra and Composition**

  * **Algebraic Operations:** If $f, g$ are continuous at $p$, then $f+g$, $f-g$, $fg$, and $f/g$ (provided $g(p) \neq 0$) are continuous at $p$.
  * **Composition (Theorem 4.2.4):**
    If $f$ is continuous at $p$ and $g$ is continuous at $f(p)$, then $h = g \circ f$ is continuous at $p$.
      * *Examples:* Polynomials, Rational functions (on domain), and $\sin(p(x))$ are continuous.

-----

### **4. Topological Characterization (Theorem 4.2.6)**

* **Theorem:** A function $f: E \to \mathbb{R}$ is continuous on $E$ **if and only if** $f^{-1}(V)$ is open in $E$ for every open subset $V$ of $\mathbb{R}$.

* **Proof:**

    **1. Continuity $\implies$ Open Pre-images**

    *   Let $p \in f^{-1}(V)$, which means $f(p) \in V$.
        $$\underbrace{f(N_\delta(p) \cap E) \subseteq N_\epsilon(f(p))}_{\text{Since } f \text{ is continuous}} \subseteq \underbrace{V}_{\text{Since } V \text{ is open}}$$
    *   By definition of inverse image ($A \subseteq B \iff f^{-1}(A) \subseteq f^{-1}(B)$):
        $$N_\delta(p) \cap E \subseteq f^{-1}(N_\epsilon(f(p))) \subseteq f^{-1}(V)$$
        Since $N_\delta(p) \cap E \subseteq f^{-1}(V)$, the set **$f^{-1}(V)$ is open**.

    **2. Open Pre-images $\implies$ Continuity**

    *   Let $\epsilon > 0$. Set $V = N_\epsilon(f(p))$ (which is open).
        $$\underbrace{N_\delta(p) \cap E \subseteq f^{-1}(V)}_{\text{Since } f^{-1}(V) \text{ is open}}$$
    *   Applying $f$ to both sides gives the continuity definition directly:
        $$f(N_\delta(p) \cap E) \subseteq V = N_\epsilon(f(p))$$

* **Example:** For $f(x) = \sqrt{x}$ on $[0, \infty)$, let $V = (a, b)$.
    * If $a \le 0 < b$, then $f^{-1}(V) = [0, b^2)$.
    * While $[0, b^2)$ is not open in $\mathbb{R}$, it **is** open in $[0, \infty)$ because it can be written as $(-b^2, b^2) \cap [0, \infty)$.

* **Warning:** The forward image of an open set is **not** necessarily open.
    * *Example*: $f(x) = x^2$ for $x \le 2$ and $6-x$ for $x > 2$. $f((-1, 1)) = [0, 1)$, which is not open.

-----


### **5. Continuity and Compactness**

  * **Theorem 4.2.8 (Preservation of Compactness):**
    If $K$ is a compact subset of a metric space $X$ and $f: K \to \mathbb{R}$ is continuous on $K$, then the image $f(K)$ is compact.

    * **Proof:**
        1.  Let $\{V_\alpha\}$ be an arbitrary open cover of $f(K)$.
        2.  Since $f$ is continuous, each $f^{-1}(V_\alpha)$ is open in $K$, forming an open cover of $K$.
        3.  Since $K$ is compact, there exists a finite subcover corresponding to indices $\alpha_1, \dots, \alpha_n$.
        4.  The collection $\{V_{\alpha_1}, \dots, V_{\alpha_n}\}$ covers $f(K)$. Thus, $f(K)$ is compact.

  * **Corollary 4.2.9 (Extreme Value Theorem):**
    If $K \subset \mathbb{R}$ is compact and $f: K \to \mathbb{R}$ is continuous, then $f$ attains its maximum and minimum on $K$.
    $$\exists p, q \in K \text{ s.t. } f(q) \le f(x) \le f(p) \quad \forall x \in K$$

    * **Concise Proof:**
        By Theorem 4.2.8, the image $f(K)$ is compact in $\mathbb{R}$.
        * **Bounded:** Since compact sets in $\mathbb{R}$ are bounded, $M = \sup f(K)$ and $m = \inf f(K)$ exist.
        * **Closed:** Since compact sets in $\mathbb{R}$ are closed, $f(K)$ contains its limit points, so $M, m \in f(K)$.
        * **Conclusion:** Therefore, there exist $p, q \in K$ such that $f(p) = M$ and $f(q) = m$.

  * **Counter-examples (4.2.10):**
    The theorem fails if $K$ is not compact (i.e., not closed or not bounded).
      * **Unbounded Domain:** $f(x) = \frac{x^2}{1+x^2}$ on $[0, \infty)$. The supremum is 1, but $f(x) < 1$ for all $x$, so the maximum is never attained.
      * **Not Closed Domain:** $g(x) = x$ on $(0, 1)$. The supremum is 1 and infimum is 0, but neither is contained in the range $(0, 1)$.
-----

### **6. Intermediate Value Theorem (IVT)**

* **Theorem 4.2.11 (Intermediate Value Theorem):**
    Let $f: [a, b] \to \mathbb{R}$ be continuous. If $f(a) < \gamma < f(b)$, then there exists $c \in (a, b)$ such that $f(c) = \gamma$.

    * **Key Intuition:** Continuity implies **local persistence of inequalities**. If $f(c) \neq \gamma$, the function forces values to stay strictly above or below $\gamma$ in a small neighborhood, contradicting the precise boundary nature of the supremum.

    * **Rigorous Proof Sketch:** 
        1.  **Construct Set:** Let $A = \{x \in [a, b] : f(x) \le \gamma\}$. Since $a \in A$, $A \neq \emptyset$. Since $A$ is bounded by $b$, let $c = \sup A$.
        2.  **Contradiction (Case 1: $f(c) < \gamma$):**
            Let $\epsilon = \frac{1}{2}(\gamma - f(c)) > 0$. By continuity, $\exists \delta > 0$ such that $f(x) < f(c) + \epsilon < \gamma$ for $x \in N_\delta(c)$.
            This implies there exist points $x > c$ where $f(x) < \gamma$, meaning $x \in A$. This contradicts that $c$ is the upper bound of $A$.
        3.  **Contradiction (Case 2: $f(c) > \gamma$):**
            Similar logic shows that for some neighborhood, $f(x) > \gamma$. This implies $c$ is not a limit point of $A$ (or $c \notin A$), contradicting the properties of the supremum.
        4.  **Conclusion:** Therefore, $f(c) = \gamma$.

* **Corollary 4.2.12 (Topological Characterization):**
    The continuous image of an interval is an interval.
    * **Connection to Topology:** This is a specific case of the general topological theorem: **"The continuous image of a connected set is connected."**
    * Since a subset of $\mathbb{R}$ is connected if and only if it is an interval, the IVT implies that continuous functions preserve connectedness.

* **Corollary 4.2.13 (Existence of Roots):**
    For every $\gamma > 0$ and $n \in \mathbb{N}$, there exists a unique $y > 0$ such that $y^n = \gamma$.

* **Corollary 4.2.14 (Fixed Point Theorem):**
    If $f: [0, 1] \to [0, 1]$ is continuous, there exists $y \in [0, 1]$ such that $f(y) = y$.

    * **Proof Technique (Auxiliary Function):**
        1.  Define $g(x) = f(x) - x$.
        2.  **Evaluate Endpoints:**
            * $g(0) = f(0) - 0 \ge 0$ (since $f(0) \in [0, 1]$).
            * $g(1) = f(1) - 1 \le 0$ (since $f(1) \in [0, 1]$).
        3.  **Apply IVT:** Since $g$ is continuous and $0$ lies between $g(1)$ and $g(0)$, there exists $y$ such that $g(y) = 0$.
        4.  **Result:** $f(y) - y = 0 \implies f(y) = y$.

#### **Caveats & Counter-examples (4.2.15)**

* **Converse is False:** A function can satisfy the intermediate value property (Darboux property) but be discontinuous.
    
    * *Example:* $f(x) = \sin(1/x)$ for $x > 0$ and $f(0) = 0$. This function takes every value between -1 and 1 in any neighborhood of 0, satisfying the property, but is discontinuous at 0.

* **Requires Completeness of $\mathbb{R}$:** The IVT relies on the Least Upper Bound Property.
    * *Example:* Let $f(x) = x^2$ on the rational interval $E = [0, 2] \cap \mathbb{Q}$.
    * We have $f(0) < 2 < f(2)$, but there is **no rational number** $c \in E$ such that $c^2 = 2$. Thus, IVT fails in $\mathbb{Q}$.






